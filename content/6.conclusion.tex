\chapter{总结与展望}
\section{论文工作总结}

分布式存储系统通常采取存储超过原本数据1倍的冗余数据来保证数据
可靠性以对抗节点故障而导致的数据丢失，进而通过冗余数据进行相关的计算还原
出丢失的数据。但无论是多副本技术还是纠删码方式都会产生冗余数据，并且都有其固有的缺陷。
本文主要对基于纠删码构建的存储系统的数据修复技术进行了研究实验，受到系统带宽性能和计算性能的影响，
数据修复技术要综合考虑修复延迟，数据重建，修复块传输，带宽变化等多方面因素。本文在传统反应式修复
的基础上改进了重建与迁移修复的传输方式，并且结合混合纠删码的策略以及相应的自适应算法完成对基于
纠删码构建的存储系统的数据修复技术研究。现对本文的工作总结如下：

纠删码面临的最基本问题就是过量的修复开销：修复流量随着存储冗余度的降低
而增加。目前，大部分的传统修复方法都
是被动修复，只有在检测到节点故障后才会触发修复操作。如果可以提前预测即将发
生的故障，就可以在任何实际故障发生之前主动修复任何即将发生的节点故障，以提
高系统可靠性。针对上述问题，本文通过结合迁移与重建来设计实现预先修复的机制，用以修复 STF(Soon To
Fail)节点。首先，本文针对重建集与迁移集问题，设计了划分迁移集与重建集算法
SMSRS（Split Migration Set And Reconstruction Set）算法，该算法主要
使用数据热度队列与最小堆技术，根据数据访问热度高低处理待修复的块的出队修
复顺序，利用最小堆不断优化当前出堆的网络带宽性能最优的可用节点进行迁移修
复，然后通过贪心策略确定最佳的重建节点以及对应的重建块接收节点。其次，
本文提出了ISA（Improved SMFRepair Algorithm）算法来
进行节点修复的调度。通过加入空闲节点（idle nodes）进行数据中继的方式可以对传输问题进一步优
化。IBA在每一轮修复中首
先判断该任务是迁移还是重建，根据输入参数进行确认，采用局部最优
修复，在此过程中链路带宽不断发生变化，从而实现最优化。
通过调整系统总节点数，RS码配置，磁盘带宽，网络带宽，条带数，块大小，空闲节点数等实验因素，
实验结果表明，本文算法相较于传统的FastPR有着一定程度的改善，修复时间降低了7.2\%$\sim$13.2\%。

在传统的存储系统中大多只采用一种纠删码进行数据的处理和存储，然而这种方
式难以在保持低存储空间消耗的情况下降低退化读的延迟时间。
本文在前文预先修复的单一纠删码的基础上，进一步提出了一种可感知数据热度的负载动态自适应
的混合纠删码（LRC\&HH）数据修复方案。针对实际存储系统数据I/O的特点，将不同的数据进行分类，并且
为了让不同的数据和读写任务工作负载情况匹配上适当的编码方案通过理论定量计算区分了读写负载模式和
修复负载模式下的纠删码修复方案。根据相应的两种纠删码的切换算法，选取四个数据集，分别对读写负载，修复负载，
整体负载和临界比进行了对比实验，实验结果表明，
本文策略相较于LRC\&HH Random降低了6.8\%$\sim$18.7\%的修复时间。

为了验证预先修复技术和混合纠删码修复技术在实际应用中的性能，本章设计
并实现了一个容错存储原型系统。该系统有三个特点：（1）基于开源分布式存储中心
的离散事件模拟器 SimEDC 进行设计实现；（2）含有丰富的混合纠删码方案，包括
已有的 HACFS 、EC-Fusion以及LRC\&HH，支持相应的扩展接口；（3）支
持修复调度中的重建与迁移的融合。容错存储原型系统设计主要包含以下模块：存储中心架构，节点故障模型，混合
纠删码策略，节点放置策略，可靠性度量指标，事件处理模式。实验结果表明，基于混合纠删码结构的容错存储原型系统具有较高的可靠性，
PDL参数平均降低了30\%$\sim$35\%，NOMDL平均
降低了40\%$\sim$42.5\%，BR平均降低了35.6\%$\sim$37.8\%。


\section{未来工作展望}
本文主要针对基于纠删码构建的存储系统中的预先修复技术和混合纠删码技术进行了研究实验，提出了
重建划分算法和修复调度算法以及混合纠删码的自适应算法。
但是，本文针对的修复任务是单节点的修复任务，并未涉足于多节点的修复任务，在之后的研究中，需要
将相应的技术扩展到多节点的并行修复任务中，提升系统的可靠性。


% \input{tables/3-dup_BEBG.tex}
% \input{tables/3-dup_NHDG.tex}
% \input{tables/T7.tex}
% \input{tables/Chap5.tex}
